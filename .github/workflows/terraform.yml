on:
  push:
    paths:
      - 'infra/**'
      
- name: Azure Login
  uses: azure/login@v1
  with:
    creds: ${{ secrets.AZURE_CREDENTIALS }}

- name: Terraform Init
  working-directory: ./infra
  run: terraform init

- name: Terraform Apply
  working-directory: ./infra
  run: terraform apply -auto-approve
